---
title: Mensagens Flash  
description: O middleware de Mensagens Flash no Lithe permite armazenar e recuperar mensagens temporárias entre solicitações.  
---

## Usando o Middleware de Mensagens Flash

O middleware de Mensagens Flash no Lithe permite armazenar mensagens temporárias na sessão, que podem ser acessadas na próxima solicitação. Isso é útil para exibir mensagens de status, como confirmações ou erros, após uma operação.

### Configurando o Middleware Flash

Para usar o middleware de Mensagens Flash, você deve adicioná-lo à sua aplicação com o método `use()`:

```php
use Lithe\Middleware\Session\flash;

$app->use(flash());
```

Isso adiciona a funcionalidade de mensagem flash à sua aplicação, permitindo armazenar e recuperar mensagens temporárias.

### Definindo Mensagens Flash

Para definir uma mensagem flash, você pode usar o método mágico `__set` ou o método `set` da classe `Flash`. Ambas as abordagens armazenam a mensagem na sessão para que esteja disponível na próxima solicitação.

- **Usando o método mágico `__set`**:

  ```php
  $req->flash->successMessage = 'Operação concluída com sucesso!';
  ```

- **Usando o método `set`**:

  ```php
  $req->flash->set('successMessage', 'Operação concluída com sucesso!');
  ```

### Recuperando Mensagens Flash

Para recuperar e remover uma mensagem flash da sessão, você pode usar o método mágico `__get` ou o método `get` da classe `Flash`. Essas mensagens são removidas da sessão após serem recuperadas.

- **Usando o método mágico `__get`**:

  ```php
  $message = $req->flash->successMessage;
  ```

- **Usando o método `get`**:

  ```php
  $message = $req->flash->get('successMessage');
  ```

### Verificando Mensagens Flash

Para verificar se uma ou mais mensagens flash existem na sessão, use o método `has`:

- **Verificação única**:

  ```php
  $exists = $req->flash->has('successMessage');
  ```

- **Verificações múltiplas**:

  ```php
  $exists = $req->flash->has(['successMessage', 'errorMessage']);
  ```

### Mantendo Mensagens Flash

Se você deseja manter uma mensagem flash para a próxima solicitação (ou seja, torná-la disponível em mais de uma solicitação), use o método `keep`:

```php
$req->flash->keep('successMessage');
```

Isso reconfigura a mensagem para a próxima solicitação após a recuperação.

## Considerações

- **Persistência**: As mensagens flash são removidas da sessão após a primeira recuperação, a menos que você use o método `keep` para preservá-las.
- **Segurança**: Certifique-se de sanitizar as mensagens recuperadas para evitar problemas de segurança, como ataques XSS.
